<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI AI äººæ ¼æµ‹è¯• - å‘ç°çœŸå®çš„è‡ªå·±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        nav {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: slideDown 0.6s ease-out;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: #667eea;
        }

        .nav-links {
            display: flex;
            gap: 20px;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: #667eea;
            background: #f0f0f0;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            animation: slideDown 0.6s ease-out;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.6s ease-out;
        }

        .home-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: center;
        }

        .home-content h2 {
            font-size: 2rem;
            color: #333;
            margin-bottom: 20px;
        }

        .home-content p {
            font-size: 1rem;
            color: #666;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .features {
            list-style: none;
            margin: 20px 0;
        }

        .features li {
            padding: 10px 0;
            color: #555;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
        }

        .features li:before {
            content: "âœ“";
            color: #667eea;
            font-weight: bold;
            margin-right: 12px;
            font-size: 1.2rem;
        }

        .home-image {
            text-align: center;
            font-size: 3.5rem;
            line-height: 1.5;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 12px 30px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            margin-right: 10px;
            margin-top: 15px;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .button-group .cta-button {
            flex: 1;
            min-width: 150px;
            margin-right: 0;
            text-align: center;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .question-container {
            margin-bottom: 30px;
        }

        .question-number {
            font-size: 0.85rem;
            color: #999;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .scenario-box {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .scenario-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 10px;
        }

        .scenario-description {
            font-size: 0.95rem;
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .open-textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.95rem;
            resize: vertical;
            transition: all 0.3s ease;
        }

        .open-textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .open-textarea::placeholder {
            color: #999;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            position: relative;
            cursor: pointer;
        }

        .option input[type="radio"] {
            display: none;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            background: #f5f5f5;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .option-label:hover {
            background: #efefef;
            border-color: #667eea;
        }

        .option input[type="radio"]:checked + .option-label {
            background: #e8eaf6;
            border-color: #667eea;
            font-weight: 600;
            color: #667eea;
        }

        .radio-circle {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            border: 2px solid #ccc;
            border-radius: 50%;
            margin-right: 15px;
            transition: all 0.3s ease;
        }

        .option input[type="radio"]:checked + .option-label .radio-circle {
            background: #667eea;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .radio-circle::after {
            content: '';
            display: none;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .option input[type="radio"]:checked + .option-label .radio-circle::after {
            display: block;
        }

        .buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 40px;
        }

        button {
            padding: 12px 30px;
            font-size: 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            flex: 1;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
            flex: 1;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
            transform: translateY(-2px);
        }

        .mbti-type {
            font-size: 3.5rem;
            font-weight: 700;
            color: #667eea;
            margin: 30px 0;
            letter-spacing: 8px;
            text-align: center;
        }

        .type-name {
            font-size: 1.6rem;
            color: #333;
            margin-bottom: 20px;
            font-weight: 600;
            text-align: center;
        }

        .type-description {
            background: #f5f5f5;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            line-height: 1.8;
            color: #555;
            font-size: 1rem;
        }

        .traits {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }

        .trait {
            background: #e8eaf6;
            padding: 15px;
            border-radius: 8px;
            color: #667eea;
            font-weight: 600;
            text-align: center;
            font-size: 0.95rem;
        }

        .comparison-section {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid #f0f0f0;
        }

        .dimensions-chart {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .dimension-bar {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .dimension-label {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .compatibility-section {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 10px;
            margin-top: 30px;
        }

        .compatibility-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
        }

        .compatibility-list {
            list-style: none;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .compatibility-item {
            background: white;
            padding: 12px 15px;
            border-radius: 8px;
            border-left: 3px solid #667eea;
            font-size: 0.9rem;
        }

        .share-section {
            margin-top: 30px;
            padding: 20px;
            background: #e8eaf6;
            border-radius: 10px;
            text-align: center;
        }

        .share-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .share-btn {
            padding: 10px 18px;
            background: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #667eea;
        }

        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .hidden {
            display: none;
        }

        .chat-message {
            display: flex;
            margin: 8px 0;
            animation: fadeIn 0.3s ease-out;
        }

        .user-message {
            justify-content: flex-end;
        }

        .user-message .message-bubble {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            max-width: 70%;
        }

        .ai-message {
            justify-content: flex-start;
        }

        .ai-message .message-bubble {
            background: #f0f0f0;
            color: #333;
            max-width: 70%;
        }

        .message-bubble {
            padding: 12px 16px;
            border-radius: 12px;
            line-height: 1.5;
            font-size: 0.95rem;
            word-wrap: break-word;
        }

        #chatBox {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .chat-input-area {
            display: flex;
            gap: 8px;
        }

        #chatInput {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            outline: none;
        }

        #chatInput:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .chat-send-btn {
            padding: 12px 25px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        .chat-send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .about-section {
            margin-bottom: 40px;
        }

        .about-section h2 {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 20px;
        }

        .about-section p {
            font-size: 1rem;
            color: #666;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .info-card {
            background: linear-gradient(135deg, #667eea15, #764ba215);
            padding: 25px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            text-align: center;
        }

        .info-card h3 {
            font-size: 1.2rem;
            color: #667eea;
            margin-bottom: 10px;
        }

        .info-card p {
            font-size: 0.9rem;
            color: #555;
            margin: 0;
        }

        .footer {
            text-align: center;
            color: white;
            padding: 20px;
            margin-top: 50px;
            opacity: 0.8;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .home-section {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .nav-links {
                gap: 8px;
            }

            .nav-links a {
                padding: 5px 8px;
                font-size: 0.8rem;
            }

            .traits {
                grid-template-columns: 1fr;
            }

            .dimensions-chart {
                grid-template-columns: 1fr;
            }

            .compatibility-list {
                grid-template-columns: 1fr;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }

            .message-bubble {
                max-width: 85%;
            }

            #chatBox {
                height: 300px;
            }

            .card {
                padding: 25px;
            }

            .button-group {
                flex-direction: column;
            }

            .button-group .cta-button {
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¯¼èˆªæ  -->
        <nav>
            <div class="logo">ğŸ§  MBTI AI</div>
            <ul class="nav-links">
                <li><a onclick="showHome()" class="active">é¦–é¡µ</a></li>
                <li><a onclick="showTest()">å¿«é€Ÿæµ‹è¯•</a></li>
                <li><a onclick="showScenarios()">åœºæ™¯æ¨¡æ‹Ÿ</a></li>
                <li><a onclick="showAbout()">å…³äº</a></li>
            </ul>
        </nav>

        <!-- é¡µå¤´ -->
        <div class="header">
            <h1>ğŸ§  MBTI AI äººæ ¼æµ‹è¯•</h1>
            <p>å‘ç°çœŸå®çš„è‡ªå·±ï¼Œäº†è§£ç‹¬ç‰¹çš„äººæ ¼ç‰¹ç‚¹</p>
        </div>

        <!-- é¦–é¡µ -->
        <div id="homePage" class="card">
            <div class="home-section">
                <div class="home-content">
                    <h2>æ¬¢è¿æ¥åˆ°MBTIäººæ ¼æµ‹è¯•</h2>
                    <p>è¿™æ˜¯ä¸€ä¸ªåŸºäºå¿ƒç†å­¦ç ”ç©¶çš„äººæ ¼è¯„ä¼°å·¥å…·ï¼Œå¸®åŠ©æ‚¨æ·±å…¥äº†è§£è‡ªå·±çš„æ€§æ ¼ç‰¹ç‚¹ã€å·¥ä½œä¼˜åŠ¿å’Œäººé™…å…³ç³»æ¨¡å¼ã€‚</p>
                    <ul class="features">
                        <li>ğŸ“‹ <strong>å¿«é€Ÿé—®å·</strong> - 10é“ç§‘å­¦è®¾è®¡çš„é—®é¢˜ï¼ˆ3åˆ†é’Ÿï¼‰</li>
                        <li>ğŸ­ <strong>åœºæ™¯æ¨¡æ‹Ÿ</strong> - 5ä¸ªçœŸå®ç”Ÿæ´»åœºæ™¯ï¼ˆ10åˆ†é’Ÿï¼‰</li>
                        <li>ğŸ’¬ <strong>å¼€æ”¾å¼å›ç­”</strong> - ç”¨æ‚¨è‡ªå·±çš„è¯æè¿°ååº”</li>
                        <li>ğŸ“Š 16ç§äººæ ¼ç±»å‹è¯¦ç»†åˆ†æ</li>
                        <li>ğŸ¤– ä¸AIåŠ©æ‰‹è¿›è¡Œæ·±åº¦å¯¹è¯</li>
                    </ul>
                    <p style="margin-top: 25px;"><strong>æµ‹è¯•å®Œæˆåï¼Œæ‚¨å°†è·å¾—ï¼š</strong></p>
                    <ul class="features">
                        <li>å®Œæ•´çš„äººæ ¼ç±»å‹åˆ†æ</li>
                        <li>å››ä¸ªç»´åº¦çš„å¾—åˆ†å¯¹æ¯”</li>
                        <li>å…¼å®¹æ€§ç±»å‹æ¨è</li>
                        <li>èŒä¸šæ–¹å‘å»ºè®®</li>
                    </ul>
                    <div class="button-group">
                        <button class="cta-button" onclick="showTest()">ğŸ“‹ å¿«é€Ÿé—®å·</button>
                        <button class="cta-button" onclick="showScenarios()">ğŸ­ åœºæ™¯æ¨¡æ‹Ÿ</button>
                    </div>
                </div>
                <div class="home-image">
                    ğŸ¯<br>ğŸŒŸ<br>ğŸ’¡<br>ğŸš€
                </div>
            </div>
        </div>

        <!-- å¿«é€Ÿé—®å·é¡µé¢ -->
        <div id="testPage" class="card hidden">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <div class="question-container">
                <div class="question-number" id="questionNumber"></div>
                <div class="question-text" id="questionText"></div>
                <div class="options" id="optionsContainer"></div>
            </div>

            <div class="buttons">
                <button class="btn-secondary" onclick="previousQuestion()" id="prevBtn">ä¸Šä¸€é¢˜</button>
                <button class="btn-primary" onclick="nextQuestion()" id="nextBtn">ä¸‹ä¸€é¢˜</button>
            </div>
        </div>

        <!-- åœºæ™¯æ¨¡æ‹Ÿé¡µé¢ -->
        <div id="scenarioPage" class="card hidden">
            <div class="progress-bar">
                <div class="progress-fill" id="scenarioProgressFill"></div>
            </div>

            <div class="question-container">
                <div class="question-number" id="scenarioNumber"></div>
                <div class="scenario-box">
                    <div class="scenario-title" id="scenarioTitle"></div>
                    <div class="scenario-description" id="scenarioDescription"></div>
                </div>
                <div style="margin-bottom: 20px;">
                    <label style="display: block; font-size: 0.9rem; color: #666; margin-bottom: 10px;">è¯·æè¿°æ‚¨ä¼šå¦‚ä½•ååº”æˆ–å¤„ç†è¿™ä¸ªæƒ…å†µï¼š</label>
                    <textarea id="scenarioAnswer" class="open-textarea" placeholder="è¯·è¾“å…¥æ‚¨çš„å›ç­”...ï¼ˆæœ€å°‘20ä¸ªå­—ç¬¦ï¼‰"></textarea>
                </div>
            </div>

            <div class="buttons">
                <button class="btn-secondary" onclick="previousScenario()" id="scenarioPrevBtn">ä¸Šä¸€åœºæ™¯</button>
                <button class="btn-primary" onclick="nextScenario()" id="scenarioNextBtn">ä¸‹ä¸€åœºæ™¯</button>
            </div>
        </div>

        <!-- ç»“æœé¡µé¢ -->
        <div id="resultsPage" class="card hidden">
            <h2 style="font-size: 1.4rem; margin-bottom: 20px; text-align: center;">æ‚¨çš„äººæ ¼ç±»å‹æ˜¯ï¼š</h2>
            <div class="mbti-type" id="resultType"></div>
            <div class="type-name" id="resultName"></div>
            <div class="type-description" id="resultDescription"></div>

            <h3 style="margin-bottom: 20px; color: #333; text-align: center;">æ‚¨çš„ç‰¹ç‚¹ï¼š</h3>
            <div class="traits" id="traitsContainer"></div>

            <div class="comparison-section">
                <h3 style="margin-bottom: 20px; color: #333;">æ‚¨çš„ç»´åº¦åˆ†æï¼š</h3>
                <div class="dimensions-chart" id="dimensionsChart"></div>
            </div>

            <div class="compatibility-section">
                <div class="compatibility-title">ä¸æ‚¨æœ€å…¼å®¹çš„ç±»å‹ï¼š</div>
                <ul class="compatibility-list" id="compatibilityList"></ul>
            </div>

            <div class="share-section">
                <div style="font-weight: 600; margin-bottom: 10px;">åˆ†äº«æ‚¨çš„äººæ ¼ç±»å‹</div>
                <div class="share-buttons">
                    <button class="share-btn" onclick="copyResult()">ğŸ“‹ å¤åˆ¶ç»“æœ</button>
                    <button class="share-btn" onclick="shareWhatsApp()">ğŸ’¬ WhatsApp</button>
                    <button class="share-btn" onclick="shareEmail()">ğŸ“§ é‚®ä»¶</button>
                </div>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button class="btn-primary" onclick="showChat()" style="flex: 1;">ğŸ’¬ ä¸AIå¯¹è¯</button>
                <button class="btn-primary" onclick="showHome()" style="flex: 1;">è¿”å›é¦–é¡µ</button>
            </div>
        </div>

        <!-- å¯¹è¯é¡µé¢ -->
        <div id="chatPage" class="card hidden">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 style="margin: 0; color: #333;">ä¸AIå¯¹è¯</h2>
                <button class="btn-secondary" onclick="backToResults()" style="padding: 8px 15px; font-size: 0.9rem;">â† è¿”å›</button>
            </div>

            <div style="background: #f5f5f5; padding: 15px; border-radius: 10px; margin-bottom: 20px; text-align: center;">
                <div style="color: #667eea; font-weight: 600; font-size: 1.2rem;">æ‚¨çš„ç±»å‹ï¼š<span id="chatPersonalityType">--</span></div>
                <div style="color: #666; font-size: 0.85rem; margin-top: 8px;">å¯æé—®èŒä¸šã€æ€§æ ¼ã€ç›¸å¤„ã€ä¼˜åŠ¿ç­‰æ–¹é¢</div>
            </div>

            <div id="chatBox">
                <div style="text-align: center; color: #999; margin: auto;">
                    ğŸ‘‹ æ¬¢è¿ï¼æˆ‘æ˜¯æ‚¨çš„MBTI AIåŠ©æ‰‹
                </div>
            </div>

            <div class="chat-input-area">
                <input id="chatInput" type="text" placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜..." onkeypress="handleChatKeypress(event)">
                <button class="chat-send-btn" onclick="sendChatMessage()">å‘é€</button>
            </div>
        </div>

        <!-- å…³äºé¡µé¢ -->
        <div id="aboutPage" class="card hidden">
            <div class="about-section">
                <h2>å…³äºMBTIæµ‹è¯•</h2>
                <p>MBTIï¼ˆMyers-Briggs Type Indicatorï¼‰æ˜¯ç”±ç¾å›½å¿ƒç†å­¦å®¶Katherine Briggså’ŒIsabel Myersåœ¨20ä¸–çºª40å¹´ä»£å¼€å‘çš„ä¸€ç§äººæ ¼ç±»å‹æŒ‡æ ‡ã€‚å®ƒåŸºäºå¡å°”Â·è£æ ¼çš„å¿ƒç†ç±»å‹ç†è®ºï¼Œå·²è¢«å¹¿æ³›åº”ç”¨äºç»„ç»‡å‘å±•ã€äººæ‰é€‰æ‹”ã€å›¢é˜Ÿå»ºè®¾ç­‰é¢†åŸŸã€‚</p>
                <p>è¯¥æµ‹è¯•é€šè¿‡æµ‹é‡ä¸ªä½“åœ¨å››ä¸ªç»´åº¦ä¸Šçš„å€¾å‘æ€§ï¼Œè¯†åˆ«å‡º16ç§ä¸åŒçš„äººæ ¼ç±»å‹ï¼Œå¸®åŠ©äººä»¬æ›´å¥½åœ°ç†è§£è‡ªå·±å’Œä»–äººã€‚</p>
            </div>

            <div class="about-section">
                <h2>MBTIå››ä¸ªç»´åº¦</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h3>E - I</h3>
                        <p><strong>å¤–å‘ - å†…å‘</strong><br>èƒ½é‡æ¥æºæ–¹å¼</p>
                    </div>
                    <div class="info-card">
                        <h3>S - N</h3>
                        <p><strong>æ„ŸçŸ¥ - ç›´è§‰</strong><br>ä¿¡æ¯æ”¶é›†æ–¹å¼</p>
                    </div>
                    <div class="info-card">
                        <h3>T - F</h3>
                        <p><strong>æ€ç»´ - æ„Ÿå—</strong><br>å†³ç­–åˆ¶å®šæ–¹å¼</p>
                    </div>
                    <div class="info-card">
                        <h3>J - P</h3>
                        <p><strong>åˆ¤æ–­ - çŸ¥è§‰</strong><br>ç”Ÿæ´»æ€åº¦æ–¹å¼</p>
                    </div>
                </div>
            </div>

            <div class="about-section">
                <h2>ä¸¤ç§æµ‹è¯•æ¨¡å¼</h2>
                <p><strong>ğŸš€ å¿«é€Ÿé—®å·æ¨¡å¼</strong> - ç”¨é€‰æ‹©é¢˜å¿«é€Ÿäº†è§£æ‚¨çš„åŸºæœ¬äººæ ¼ç±»å‹</p>
                <p style="margin-top: 15px;"><strong>ğŸ­ åœºæ™¯æ¨¡æ‹Ÿæ¨¡å¼</strong> - é€šè¿‡çœŸå®åœºæ™¯å’Œå¼€æ”¾å¼å›ç­”ï¼Œæ›´æ·±å±‚æ¬¡åœ°ç†è§£æ‚¨çš„ååº”æ¨¡å¼å’Œæ€§æ ¼ç‰¹ç‚¹</p>
            </div>

            <button class="cta-button" onclick="showTest()">å¼€å§‹æµ‹è¯•äº†è§£ä½ çš„ç±»å‹ â†’</button>
        </div>

        <!-- é¡µè„š -->
        <div class="footer">
            <p>Â© 2024 MBTI AI äººæ ¼æµ‹è¯• | åŸºäºå¿ƒç†å­¦ç ”ç©¶çš„ä¸ªæ€§è¯„ä¼°å·¥å…·</p>
        </div>
    </div>

    <script>
        // å¿«é€Ÿé—®å·æ•°æ®
        const questions = [
            {
                question: "åœ¨ç¤¾äº¤æ´»åŠ¨ä¸­ï¼Œæ‚¨é€šå¸¸ï¼š",
                options: [
                    { text: "ä¸»åŠ¨ä¸ä»–äººäº¤æµï¼Œå–œæ¬¢æˆä¸ºèšç„¦ç‚¹", dimension: "E" },
                    { text: "æ›´å–œæ¬¢å€¾å¬ï¼Œé¿å…æˆä¸ºä¸­å¿ƒ", dimension: "I" }
                ]
            },
            {
                question: "å¤„ç†ä¿¡æ¯æ—¶ï¼Œæ‚¨å€¾å‘äºï¼š",
                options: [
                    { text: "å…³æ³¨å…·ä½“çš„äº‹å®å’Œç°å®ç»†èŠ‚", dimension: "S" },
                    { text: "çœ‹åˆ°äº‹ç‰©çš„æ•´ä½“å›¾æ™¯å’Œå¯èƒ½æ€§", dimension: "N" }
                ]
            },
            {
                question: "åšå†³å®šæ—¶ï¼Œæ‚¨æ›´å¤šåœ°ä¾é ï¼š",
                options: [
                    { text: "é€»è¾‘åˆ†æå’Œå®¢è§‚äº‹å®", dimension: "T" },
                    { text: "ä¸ªäººä»·å€¼è§‚å’Œä»–äººçš„æ„Ÿå—", dimension: "F" }
                ]
            },
            {
                question: "æ‚¨æ›´å–œæ¬¢çš„ç”Ÿæ´»æ–¹å¼æ˜¯ï¼š",
                options: [
                    { text: "æœ‰è®¡åˆ’ã€æœ‰ç»„ç»‡ã€äº•äº•æœ‰æ¡", dimension: "J" },
                    { text: "çµæ´»è‡ªç”±ã€éšé‡è€Œå®‰", dimension: "P" }
                ]
            },
            {
                question: "å­¦ä¹ æ–°ä¸œè¥¿æ—¶ï¼Œæ‚¨å€¾å‘äºï¼š",
                options: [
                    { text: "é¦–å…ˆäº†è§£æ¯ä¸€ä¸ªæ­¥éª¤çš„ç»†èŠ‚", dimension: "S" },
                    { text: "å…ˆè·å¾—å¤§è‡´æ¦‚å¿µå†æ·±å…¥å­¦ä¹ ", dimension: "N" }
                ]
            },
            {
                question: "ä¸é™Œç”Ÿäººç›¸å¤„ï¼Œæ‚¨ä¼šï¼š",
                options: [
                    { text: "å¿«é€Ÿå»ºç«‹è”ç³»ï¼Œè°ˆè¯é¡ºç•…", dimension: "E" },
                    { text: "éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½æ”¾æ¾", dimension: "I" }
                ]
            },
            {
                question: "é¢å¯¹å†²çªæ—¶ï¼Œæ‚¨é€šå¸¸ï¼š",
                options: [
                    { text: "åšæŒåŸåˆ™ï¼Œä¾æ®é€»è¾‘äº‰è¾©", dimension: "T" },
                    { text: "è€ƒè™‘åŒæ–¹æ„Ÿå—ï¼Œå¯»æ±‚å’Œè°", dimension: "F" }
                ]
            },
            {
                question: "å¯¹äºæœªæ¥è®¡åˆ’ï¼Œæ‚¨ï¼š",
                options: [
                    { text: "å–œæ¬¢æå‰è®¡åˆ’ï¼Œåšå¥½å‡†å¤‡", dimension: "J" },
                    { text: "æ›´æ„¿æ„å³æ—¶åº”å˜ï¼Œçµæ´»è°ƒæ•´", dimension: "P" }
                ]
            },
            {
                question: "åœ¨å·¥ä½œä¸­ï¼Œæ‚¨æ›´åœ¨æ„ï¼š",
                options: [
                    { text: "ä»»åŠ¡å®Œæˆçš„æ•ˆç‡å’Œç»“æœ", dimension: "T" },
                    { text: "å›¢é˜Ÿçš„åä½œå’Œå·¥ä½œç¯å¢ƒ", dimension: "F" }
                ]
            },
            {
                question: "ä¸‹ç­åï¼Œæ‚¨é€šå¸¸ä¼šï¼š",
                options: [
                    { text: "å¤–å‡ºç¤¾äº¤æˆ–å‚åŠ æ´»åŠ¨", dimension: "E" },
                    { text: "åœ¨å®¶ä¼‘æ¯æˆ–ç‹¬å¤„æ”¾æ¾", dimension: "I" }
                ]
            }
        ];

        // åœºæ™¯æ¨¡æ‹Ÿæ•°æ®
        const scenarios = [
            {
                title: "å·¥ä½œé¡¹ç›®çªç„¶å˜æ›´",
                description: "æ‚¨æ­£åœ¨è¿›è¡Œçš„é¡¹ç›®çªç„¶è¢«è¦æ±‚æ”¹å˜æ–¹å‘ã€‚æ‚¨è¢«å‘ŠçŸ¥æ–°çš„è®¡åˆ’ä¸ä¹‹å‰çš„è®¡åˆ’å®Œå…¨ä¸åŒï¼Œæ‚¨éœ€è¦ç«‹å³è°ƒæ•´æ‚¨çš„å·¥ä½œæ–¹å¼ã€‚"
            },
            {
                title: "å›¢é˜Ÿæ„è§ä¸ä¸€è‡´",
                description: "åœ¨ä¸€æ¬¡å›¢é˜Ÿä¼šè®®ä¸­ï¼Œæ‚¨çš„æƒ³æ³•ä¸åŒäº‹ä»¬çš„è§‚ç‚¹ç›¸æ‚–ã€‚å¤§å¤šæ•°äººæ”¯æŒå¦ä¸€ä¸ªæ–¹æ¡ˆï¼Œä½†æ‚¨è®¤ä¸ºæ‚¨çš„æ–¹æ¡ˆæ›´åˆç†ã€‚"
            },
            {
                title: "ç¤¾äº¤åœºåˆå‹åŠ›",
                description: "æ‚¨è¢«é‚€è¯·å‚åŠ ä¸€ä¸ªé™Œç”Ÿäººä¼—å¤šçš„æ´¾å¯¹æˆ–ç¤¾äº¤æ´»åŠ¨ã€‚æ‚¨ä¸è®¤è¯†å¤§å¤šæ•°äººï¼Œéœ€è¦åœ¨è¿™æ ·çš„ç¯å¢ƒä¸­ä¸äººäº’åŠ¨ã€‚"
            },
            {
                title: "ç´§æ€¥å†³ç­–æ—¶åˆ»",
                description: "æ‚¨é¢ä¸´ä¸€ä¸ªéœ€è¦å¿«é€Ÿåšå‡ºå†³å®šçš„æƒ…å†µï¼Œæ²¡æœ‰å¤ªå¤šæ—¶é—´æ”¶é›†ä¿¡æ¯æˆ–æ€è€ƒã€‚æ‚¨å¿…é¡»ç«‹å³é‡‡å–è¡ŒåŠ¨æˆ–åšå‡ºé€‰æ‹©ã€‚"
            },
            {
                title: "ä¸ªäººå¤±è´¥å¤„ç†",
                description: "æ‚¨åœ¨ä¸€ä¸ªé‡è¦çš„äº‹æƒ…ä¸Šå¤±è´¥äº†ã€‚è¿™å¯èƒ½å½±å“åˆ°æ‚¨çš„è‡ªä¿¡å¿ƒã€‚æ‚¨å¦‚ä½•å¤„ç†è¿™ç§æŒ«æŠ˜æ„Ÿï¼Ÿ"
            }
        ];

        // äººæ ¼ç±»å‹æ•°æ®
        const personalityTypes = {
            ISTJ: { name: "ç‰©æµå®˜", description: "ISTJæ˜¯åŠ¡å®ã€è„šè¸å®åœ°çš„äººã€‚ä»–ä»¬å¿ è¯šå¯é ï¼Œé‡è§†ä¼ ç»Ÿå’Œè´£ä»»ã€‚", traits: ["ç»„ç»‡èƒ½åŠ›å¼º", "è´£ä»»å¿ƒå¼º", "å¯é å®ˆæ—¶", "å®é™…è¸å®"], compatible: ["ESFJ", "ISFJ"], career: ["ä¼šè®¡å¸ˆ", "é¡¹ç›®ç»ç†", "åŒ»ç”Ÿ"], strength: "é«˜åº¦è´Ÿè´£ï¼Œå¯é æ€§å¼º" },
            ISFJ: { name: "å«å£«", description: "ISFJæ¸©æš–ã€å…³æ€€ä»–äººã€‚ä»–ä»¬å¿ è¯šã€å°½è´£ï¼Œå¯¹ä»–äººçš„éœ€æ±‚å¾ˆæ•æ„Ÿã€‚", traits: ["æœ‰åŒæƒ…å¿ƒ", "ä¹äºåŠ©äºº", "è´£ä»»æ„Ÿå¼º", "ç»†å¿ƒå‘¨åˆ°"], compatible: ["ESTJ", "ISTJ"], career: ["æŠ¤å£«", "æ•™å¸ˆ", "ç¤¾å·¥"], strength: "åŒç†å¿ƒå¼ºï¼Œä¹äºæœåŠ¡" },
            INFJ: { name: "æå€¡è€…", description: "INFJæ˜¯æœ‰æ€æƒ³ã€æœ‰åŸåˆ™çš„äººã€‚ä»–ä»¬è¿½æ±‚æœ‰æ„ä¹‰çš„äººé™…å…³ç³»å’Œå·¥ä½œã€‚", traits: ["æœ‰ç†æƒ³", "æ´å¯ŸåŠ›å¼º", "åŒç†å¿ƒå¼º", "åšå®šåŸåˆ™"], compatible: ["ENFP", "INFP"], career: ["å¿ƒç†å’¨è¯¢å¸ˆ", "ä½œå®¶", "ç ”ç©¶å‘˜"], strength: "è¿œè§å“è¯†ï¼Œä½¿å‘½æ„Ÿå¼º" },
            INTJ: { name: "å»ºç­‘å¸ˆ", description: "INTJæ˜¯æˆ˜ç•¥æ€æƒ³å®¶ã€‚ä»–ä»¬èªæ…§ã€ç‹¬ç«‹ï¼Œæœ‰æ¸…æ™°çš„æ„¿æ™¯å’Œç›®æ ‡ã€‚", traits: ["é€»è¾‘æ€ç»´", "ç‹¬ç«‹è‡ªä¸»", "æˆ˜ç•¥èƒ½åŠ›", "åˆ›æ–°æ€ç»´"], compatible: ["ENFP", "INFP"], career: ["å·¥ç¨‹å¸ˆ", "ç³»ç»Ÿåˆ†æå¸ˆ", "CEO"], strength: "æˆ˜ç•¥çœ¼å…‰ï¼Œç‹¬ç«‹æ€è€ƒ" },
            ISTP: { name: "é‰´èµå®¶", description: "ISTPæ˜¯å®ç”¨çš„ã€å†·é™åˆ†æçš„äººã€‚ä»–ä»¬å¯¹æœºæ¢°å’ŒæŠ€æœ¯æ„Ÿå…´è¶£ã€‚", traits: ["åˆ†æèƒ½åŠ›", "åŠ¨æ‰‹èƒ½åŠ›å¼º", "å®äº‹æ±‚æ˜¯", "ç‹¬ç«‹æ€è€ƒ"], compatible: ["ESFP", "ISFP"], career: ["æœºæ¢°å¸ˆ", "ç¨‹åºå‘˜", "å·¥ç¨‹å¸ˆ"], strength: "é—®é¢˜è§£å†³èƒ½åŠ›å¼ºï¼Œå®ç”¨ä¸»ä¹‰" },
            ISFP: { name: "æ¢é™©å®¶", description: "ISFPæ¸©å’Œã€æ•æ„Ÿï¼Œå¯¹è‰ºæœ¯å’Œç¾å¾ˆæœ‰å“å‘³ã€‚ä»–ä»¬æ˜¯å¤©ç”Ÿçš„è‰ºæœ¯å®¶ã€‚", traits: ["å®¡ç¾å“å‘³", "æ¸©å’Œå‹å–„", "çƒ­çˆ±è‡ªç”±", "æ„Ÿå—åŠ›å¼º"], compatible: ["ESFJ", "ISFJ"], career: ["è®¾è®¡å¸ˆ", "è‰ºæœ¯å®¶", "æ‘„å½±å¸ˆ"], strength: "å®¡ç¾èƒ½åŠ›ï¼Œåˆ›æ„è¡¨è¾¾" },
            INFP: { name: "è°ƒåœè€…", description: "INFPæ˜¯ç†æƒ³ä¸»ä¹‰è€…ã€‚ä»–ä»¬è¿½æ±‚çœŸæ­£çš„è‡ªæˆ‘ï¼Œæ³¨é‡ä¸ªäººä»·å€¼è§‚ã€‚", traits: ["ç†æƒ³ä¸»ä¹‰", "åˆ›æ„åè¶³", "åŒæƒ…å¿ƒå¼º", "çœŸè¯šå¦ç‡"], compatible: ["ENFJ", "INFJ"], career: ["ä½œå®¶", "å’¨è¯¢å¸ˆ", "æ•™å¸ˆ"], strength: "åˆ›æ„ä¸°å¯Œï¼Œä»·å€¼è§‚æ¸…æ™°" },
            INTP: { name: "é€»è¾‘å­¦å®¶", description: "INTPæ˜¯ç‹¬ç«‹æ€æƒ³å®¶å’Œåˆ›æ–°è€…ã€‚ä»–ä»¬å–œæ¬¢åˆ†æå’Œç†è§£äº‹ç‰©ã€‚", traits: ["åˆ†ææ€ç»´", "æ±‚çŸ¥æ¬²å¼º", "åˆ›æ–°èƒ½åŠ›", "ç‹¬ç«‹æ€è€ƒ"], compatible: ["ENTJ", "INTJ"], career: ["ç§‘å­¦å®¶", "æ•°å­¦å®¶", "è½¯ä»¶å¼€å‘"], strength: "é€»è¾‘ä¸¥å¯†ï¼Œç†è®ºåˆ›æ–°" },
            ESTP: { name: "ä¼ä¸šå®¶", description: "ESTPæ˜¯è¡ŒåŠ¨è€…ã€‚ä»–ä»¬å¤§èƒ†ã€å†’é™©ã€å¯Œæœ‰æŒ‘æˆ˜ç²¾ç¥ã€‚", traits: ["è¡ŒåŠ¨èƒ½åŠ›", "é£é™©æ„è¯†", "é€‚åº”èƒ½åŠ›", "é¢†å¯¼åŠ›"], compatible: ["ISFJ", "ISTP"], career: ["é”€å”®ç»ç†", "è¿åŠ¨å‘˜", "æ¶ˆé˜²å‘˜"], strength: "åº”å˜èƒ½åŠ›å¼ºï¼Œæ‰§è¡ŒåŠ›å¼º" },
            ESFP: { name: "è¡¨æ¼”è€…", description: "ESFPæ˜¯çƒ­æƒ…ã€æ´»è·ƒçš„äººã€‚ä»–ä»¬å–œæ¬¢æˆä¸ºå…³æ³¨ä¸­å¿ƒï¼Œå……æ»¡èƒ½é‡ã€‚", traits: ["å……æ»¡èƒ½é‡", "ç¤¾äº¤å¤©èµ‹", "çƒ­æƒ…å‹å–„", "é€‚åº”åŠ›å¼º"], compatible: ["ISFJ", "ISTP"], career: ["æ´»åŠ¨ç­–åˆ’", "æ¼”å‘˜", "ä¸»æ’­"], strength: "ç¤¾äº¤é­…åŠ›ï¼Œæ„ŸæŸ“åŠ›å¼º" },
            ENFP: { name: "ç«é€‰äºº", description: "ENFPæ˜¯çƒ­æƒ…ã€åˆ›æ„åè¶³çš„äººã€‚ä»–ä»¬å……æ»¡æƒ³è±¡åŠ›ï¼Œå–„äºé¼“èˆä»–äººã€‚", traits: ["çƒ­æƒ…æ´‹æº¢", "æƒ³è±¡åŠ›ä¸°å¯Œ", "ç¤¾äº¤èƒ½åŠ›", "é¼“èˆä»–äºº"], compatible: ["INTJ", "INFJ"], career: ["åˆ›æ„æ€»ç›‘", "è¥é”€ç»ç†", "åŸ¹è®­å¸ˆ"], strength: "åˆ›æ„æ— é™ï¼Œäººè„‰å¹¿æ³›" },
            ENTP: { name: "è¾©æ‰‹", description: "ENTPæ˜¯èªæ…§çš„ã€å¥½è¾©çš„ã€‚ä»–ä»¬å–œæ¬¢æŒ‘æˆ˜ï¼Œå–„äºå‘ç°çŸ›ç›¾ã€‚", traits: ["è¾©è®ºèƒ½åŠ›", "åˆ›æ–°æ€ç»´", "èªæ…§æ•é”", "å¥½å¥‡å¿ƒå¼º"], compatible: ["INFJ", "INTJ"], career: ["å¾‹å¸ˆ", "å’¨è¯¢é¡¾é—®", "è®°è€…"], strength: "æ€ç»´æ•æ·ï¼Œåˆ›æ–°ç²¾ç¥" },
            ESTJ: { name: "æ€»ç»ç†", description: "ESTJæ˜¯å¤©ç”Ÿçš„é¢†å¯¼è€…ã€‚ä»–ä»¬æœ‰æ•ˆç‡ã€æœ‰ç»„ç»‡ã€æœæ–­ã€‚", traits: ["é¢†å¯¼èƒ½åŠ›", "ç»„ç»‡åŠ›å¼º", "å†³æ–­åŠ›", "æ‰§è¡Œèƒ½åŠ›"], compatible: ["ISFP", "ISFJ"], career: ["æ€»ç»ç†", "é¡¹ç›®ä¸»ç®¡", "è­¦å®˜"], strength: "ç»„ç»‡ç®¡ç†ï¼Œå†³ç­–æœæ–­" },
            ESFJ: { name: "é¢†äº‹", description: "ESFJæ˜¯çƒ­å¿ƒè‚ çš„äººã€‚ä»–ä»¬å‹å–„ã€å…³æ€€ä»–äººã€ä¹äºåŠ©äººã€‚", traits: ["çƒ­å¿ƒè‚ ", "å…³æ€€ä»–äºº", "å›¢é˜Ÿåˆä½œ", "ç¤¾äº¤èƒ½åŠ›"], compatible: ["ISFP", "ISTP"], career: ["äººåŠ›èµ„æº", "æŠ¤ç†äººå‘˜", "å…¬å…³"], strength: "äººé™…å’Œè°ï¼ŒæœåŠ¡æ„è¯†" },
            ENFJ: { name: "ä¸»äººå…¬", description: "ENFJæ˜¯æœ‰é­…åŠ›çš„ã€å…³æ€€ä»–äººçš„é¢†å¯¼è€…ã€‚ä»–ä»¬çƒ­æƒ…æ´‹æº¢ï¼Œå–„äºæ¿€åŠ±ä»–äººã€‚", traits: ["é¢†å¯¼é­…åŠ›", "é¼“åŠ±ä»–äºº", "åŒæƒ…å¿ƒå¼º", "ç¤¾äº¤èƒ½åŠ›"], compatible: ["INFP", "ISFP"], career: ["ç®¡ç†é¡¾é—®", "è®²å¸ˆ", "CEO"], strength: "é¢†å¯¼åŠ›å¼ºï¼Œæ¿€åŠ±ä»–äºº" },
            ENTJ: { name: "æŒ‡æŒ¥å®˜", description: "ENTJæ˜¯æœæ–­çš„ã€æˆ˜ç•¥æ€§çš„é¢†å¯¼è€…ã€‚ä»–ä»¬èªæ…§ã€æœ‰é›„å¿ƒã€‚", traits: ["æˆ˜ç•¥çœ¼å…‰", "é¢†å¯¼èƒ½åŠ›", "æ‰§è¡ŒåŠ›å¼º", "èªæ…§æœæ–­"], compatible: ["INTP", "ISFP"], career: ["è‘£äº‹é•¿", "æˆ˜ç•¥åˆ†æå¸ˆ", "ä¼ä¸šå®¶"], strength: "æˆ˜ç•¥è§„åˆ’ï¼Œé¢†å¯¼ç»Ÿç­¹" }
        };

        // å…¨å±€å˜é‡
        let currentQuestion = 0;
        let answers = [];
        let currentScenario = 0;
        let scenarioAnswers = [];
        let currentPersonalityType = '';
        let testMode = 'quick'; // 'quick' æˆ– 'scenario'

        // é¡µé¢å¯¼èˆª
        function showHome() {
            hideAllPages();
            document.getElementById('homePage').classList.remove('hidden');
            updateNavigation('é¦–é¡µ');
        }

        function showTest() {
            currentQuestion = 0;
            answers = new Array(questions.length).fill(null);
            testMode = 'quick';
            hideAllPages();
            document.getElementById('testPage').classList.remove('hidden');
            updateNavigation('å¿«é€Ÿæµ‹è¯•');
            showQuestion();
        }

        function showScenarios() {
            currentScenario = 0;
            scenarioAnswers = new Array(scenarios.length).fill('');
            testMode = 'scenario';
            hideAllPages();
            document.getElementById('scenarioPage').classList.remove('hidden');
            updateNavigation('åœºæ™¯æ¨¡æ‹Ÿ');
            showScenario();
        }

        function showAbout() {
            hideAllPages();
            document.getElementById('aboutPage').classList.remove('hidden');
            updateNavigation('å…³äº');
        }

        function showChat() {
            hideAllPages();
            document.getElementById('chatPage').classList.remove('hidden');
            currentPersonalityType = document.getElementById('resultType').textContent;
            document.getElementById('chatPersonalityType').textContent = currentPersonalityType;
            document.getElementById('chatBox').innerHTML = '<div style="text-align: center; color: #999; margin: auto;">ğŸ‘‹ æ¬¢è¿ï¼æˆ‘æ˜¯æ‚¨çš„MBTI AIåŠ©æ‰‹</div>';
            document.getElementById('chatInput').focus();
        }

        function backToResults() {
            hideAllPages();
            document.getElementById('resultsPage').classList.remove('hidden');
        }

        function hideAllPages() {
            document.querySelectorAll('[id$="Page"]').forEach(page => page.classList.add('hidden'));
        }

        function updateNavigation(active) {
            document.querySelectorAll('.nav-links a').forEach(link => link.classList.remove('active'));
            Array.from(document.querySelectorAll('.nav-links a')).find(link => link.textContent.includes(active))?.classList.add('active');
        }

        // å¿«é€Ÿé—®å·é€»è¾‘
        function showQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('questionNumber').textContent = `é—®é¢˜ ${currentQuestion + 1}/${questions.length}`;
            document.getElementById('questionText').textContent = question.question;
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                const isChecked = answers[currentQuestion] === index ? 'checked' : '';
                optionDiv.innerHTML = `
                    <input type="radio" id="option${index}" name="answer" value="${index}" ${isChecked} onchange="selectOption(${index})">
                    <label for="option${index}" class="option-label">
                        <span class="radio-circle"></span>
                        <span>${option.text}</span>
                    </label>
                `;
                optionsContainer.appendChild(optionDiv);
            });

            document.getElementById('prevBtn').style.display = currentQuestion === 0 ? 'none' : 'block';
            document.getElementById('nextBtn').textContent = currentQuestion === questions.length - 1 ? 'æŸ¥çœ‹ç»“æœ' : 'ä¸‹ä¸€é¢˜';
        }

        function selectOption(index) {
            answers[currentQuestion] = index;
        }

        function nextQuestion() {
            if (answers[currentQuestion] === null) {
                alert('è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹');
                return;
            }
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                calculateResults();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        // åœºæ™¯æ¨¡æ‹Ÿé€»è¾‘
        function showScenario() {
            const scenario = scenarios[currentScenario];
            document.getElementById('scenarioNumber').textContent = `åœºæ™¯ ${currentScenario + 1}/${scenarios.length}`;
            document.getElementById('scenarioTitle').textContent = scenario.title;
            document.getElementById('scenarioDescription').textContent = scenario.description;
            document.getElementById('scenarioAnswer').value = scenarioAnswers[currentScenario] || '';
            const progress = ((currentScenario + 1) / scenarios.length) * 100;
            document.getElementById('scenarioProgressFill').style.width = progress + '%';

            document.getElementById('scenarioPrevBtn').style.display = currentScenario === 0 ? 'none' : 'block';
            document.getElementById('scenarioNextBtn').textContent = currentScenario === scenarios.length - 1 ? 'æŸ¥çœ‹ç»“æœ' : 'ä¸‹ä¸€åœºæ™¯';
        }

        function nextScenario() {
            const answer = document.getElementById('scenarioAnswer').value.trim();
            if (answer.length < 20) {
                alert('è¯·è¾“å…¥è‡³å°‘20ä¸ªå­—ç¬¦çš„å›ç­”');
                return;
            }
            scenarioAnswers[currentScenario] = answer;
            if (currentScenario < scenarios.length - 1) {
                currentScenario++;
                showScenario();
            } else {
                analyzeScenarioAnswers();
            }
        }

        function previousScenario() {
            scenarioAnswers[currentScenario] = document.getElementById('scenarioAnswer').value;
            if (currentScenario > 0) {
                currentScenario--;
                showScenario();
            }
        }

        function analyzeScenarioAnswers() {
            const scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            
            scenarioAnswers.forEach((answer, index) => {
                if (answer.includes('ç¤¾äº¤') || answer.includes('äº¤æµ') || answer.includes('å‚ä¸')) scores.E += 2;
                if (answer.includes('æ€è€ƒ') || answer.includes('æ€è€ƒ') || answer.includes('å†…å¿ƒ')) scores.I += 2;
                if (answer.includes('ç»†èŠ‚') || answer.includes('å…·ä½“') || answer.includes('ç°å®')) scores.S += 2;
                if (answer.includes('æƒ³è±¡') || answer.includes('åˆ›æ„') || answer.includes('ç›´è§‰')) scores.N += 2;
                if (answer.includes('é€»è¾‘') || answer.includes('åˆ†æ') || answer.includes('ç†æ€§')) scores.T += 2;
                if (answer.includes('æ„Ÿå—') || answer.includes('æƒ…æ„Ÿ') || answer.includes('å’Œè°')) scores.F += 2;
                if (answer.includes('è®¡åˆ’') || answer.includes('ç»„ç»‡') || answer.includes('å‡†å¤‡')) scores.J += 2;
                if (answer.includes('çµæ´»') || answer.includes('è‡ªç”±') || answer.includes('éšæ„')) scores.P += 2;
            });

            // æ·»åŠ ä¸€äº›éšæœºæ€§ï¼ŒåŸºäºç­”æ¡ˆé•¿åº¦
            scenarioAnswers.forEach((answer) => {
                const length = answer.length;
                if (length > 200) scores.N++; // è¯¦ç»†æ€è€ƒ = ç›´è§‰
            });

            const type = 
                (scores.E >= scores.I ? 'E' : 'I') +
                (scores.S >= scores.N ? 'S' : 'N') +
                (scores.T >= scores.F ? 'T' : 'F') +
                (scores.J >= scores.P ? 'J' : 'P');
            
            showResults(type, scores);
        }

        function calculateResults() {
            const scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            answers.forEach((answerIndex, questionIndex) => {
                const dimension = questions[questionIndex].options[answerIndex].dimension;
                scores[dimension]++;
            });
            const type = 
                (scores.E >= scores.I ? 'E' : 'I') +
                (scores.S >= scores.N ? 'S' : 'N') +
                (scores.T >= scores.F ? 'T' : 'F') +
                (scores.J >= scores.P ? 'J' : 'P');
            showResults(type, scores);
        }

        function showResults(type, scores) {
            const typeInfo = personalityTypes[type];
            hideAllPages();
            document.getElementById('resultsPage').classList.remove('hidden');
            document.getElementById('resultType').textContent = type;
            document.getElementById('resultName').textContent = typeInfo.name;
            document.getElementById('resultDescription').textContent = typeInfo.description;

            const traitsContainer = document.getElementById('traitsContainer');
            traitsContainer.innerHTML = typeInfo.traits.map(trait => `<div class="trait">${trait}</div>`).join('');

            const dimensionsChart = document.getElementById('dimensionsChart');
            const dimensions = [
                { pair: 'EI', label: 'å¤–å‘/å†…å‘', score: scores.E, total: scores.E + scores.I },
                { pair: 'SN', label: 'æ„ŸçŸ¥/ç›´è§‰', score: scores.S, total: scores.S + scores.N },
                { pair: 'TF', label: 'æ€ç»´/æ„Ÿå—', score: scores.T, total: scores.T + scores.F },
                { pair: 'JP', label: 'åˆ¤æ–­/çŸ¥è§‰', score: scores.J, total: scores.J + scores.P }
            ];
            dimensionsChart.innerHTML = dimensions.map(dim => {
                const percent = Math.round((dim.score / dim.total) * 100);
                return `<div class="dimension-bar"><div class="dimension-label">${dim.pair}</div><div style="font-size: 0.85rem; color: #666;">å€¾å‘: ${percent}%</div></div>`;
            }).join('');

            const compatibilityList = document.getElementById('compatibilityList');
            compatibilityList.innerHTML = typeInfo.compatible.map(t => `<li class="compatibility-item">${t} - ${personalityTypes[t].name}</li>`).join('');
        }

        function copyResult() {
            const type = document.getElementById('resultType').textContent;
            const name = document.getElementById('resultName').textContent;
            navigator.clipboard.writeText(`æˆ‘çš„MBTIäººæ ¼ç±»å‹æ˜¯: ${type} - ${name}`).then(() => alert('å·²å¤åˆ¶ï¼'));
        }

        function shareWhatsApp() {
            const type = document.getElementById('resultType').textContent;
            const text = encodeURIComponent(`æˆ‘çš„MBTIäººæ ¼ç±»å‹æ˜¯: ${type}\nä½ ä¹Ÿæ¥æµ‹è¯•ä¸€ä¸‹å§ï¼`);
            window.open(`https://wa.me/?text=${text}`);
        }

        function shareEmail() {
            const type = document.getElementById('resultType').textContent;
            const subject = encodeURIComponent('æˆ‘çš„MBTIäººæ ¼æµ‹è¯•ç»“æœ');
            const body = encodeURIComponent(`æˆ‘çš„MBTIäººæ ¼ç±»å‹æ˜¯: ${type}\n\nä½ ä¹Ÿæ¥è¯•è¯•å§ï¼`);
            window.open(`mailto:?subject=${subject}&body=${body}`);
        }

        // å¯¹è¯å‡½æ•°
        function handleChatKeypress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendChatMessage();
            }
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            addChatMessage(message, true);
            input.value = '';

            setTimeout(() => {
                const response = generateAIResponse(message, currentPersonalityType);
                addChatMessage(response, false);
                input.focus();
            }, 800);
        }

        function addChatMessage(text, isUser) {
            const chatBox = document.getElementById('chatBox');
            if (chatBox.children.length === 1) chatBox.innerHTML = '';

            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${isUser ? 'user-message' : 'ai-message'}`;
            const bubble = document.createElement('div');
            bubble.className = 'message-bubble';
            bubble.textContent = text;
            messageDiv.appendChild(bubble);
            chatBox.appendChild(messageDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function generateAIResponse(userMessage, personalityType) {
            const typeInfo = personalityTypes[personalityType];
            const lower = userMessage.toLowerCase();

            if (lower.includes('èŒä¸š') || lower.includes('å·¥ä½œ')) {
                return `å¯¹äº ${personalityType} ç±»å‹çš„æ‚¨ï¼Œ${typeInfo.career.join('ã€')} éƒ½æ˜¯å¾ˆå¥½çš„èŒä¸šé€‰æ‹©ã€‚æ‚¨çš„${typeInfo.strength}ä¼˜åŠ¿åœ¨è¿™äº›é¢†åŸŸä¼šå¾—åˆ°å……åˆ†å‘æŒ¥ï¼`;
            } else if (lower.includes('ç›¸å¤„') || lower.includes('äººé™…')) {
                return `${personalityType} çš„äººé€šå¸¸${typeInfo.traits[0]}ã€‚${typeInfo.description}è¿™äº›ç‰¹è´¨ä½¿æ‚¨å®¹æ˜“å»ºç«‹è‰¯å¥½çš„äººé™…å…³ç³»ã€‚`;
            } else if (lower.includes('ä¼˜åŠ¿') || lower.includes('ç‰¹ç‚¹')) {
                return `æ‚¨çš„ä¸»è¦ä¼˜åŠ¿æ˜¯ï¼š${typeInfo.traits.join('ã€')}ã€‚è¿™äº›ç‰¹ç‚¹è®©æ‚¨åœ¨ç”Ÿæ´»å’Œå·¥ä½œä¸­å…·æœ‰ç‹¬ç‰¹çš„ç«äº‰åŠ›ï¼`;
            } else if (lower.includes('å­¦ä¹ ') || lower.includes('æˆé•¿')) {
                return `ä½œä¸º ${personalityType}ï¼Œæ‚¨å¯ä»¥é€šè¿‡åŠ å¼ºä¸å¯¹ç«‹ç±»å‹çš„äº’åŠ¨æ¥ä¿ƒè¿›ä¸ªäººæˆé•¿ã€‚åŒæ—¶ï¼ŒæŒç»­åˆ©ç”¨æ‚¨çš„${typeInfo.strength}ä¼˜åŠ¿ä¹Ÿå¾ˆé‡è¦ã€‚`;
            }
            
            return `æ„Ÿè°¢æé—®ï¼ä½œä¸º ${personalityType} ç±»å‹ï¼Œ${typeInfo.description}æ‚¨è¿˜æƒ³äº†è§£å…³äºæ‚¨äººæ ¼ç±»å‹çš„å…¶ä»–æ–¹é¢å—ï¼Ÿ`;
        }

        // åˆå§‹åŒ–
        showHome();
    </script>
</body>
</html>
</parameter>
</invoke>
